[`⏪ Назад`](../02/README.md)  [`📕 HOMEWORKS`](../../README.md)  [`⏩ Вперед`](../04/README.md)

# [ДЗ 3 (заняття 04) Web API. REST API](https://lms.ithillel.ua/groups/65a65fe34c3a2d3372eef8ea/homeworks/65f2ff97dcabf5dbd18dcb0f)

Створити REST API для інтернет магазина за допомогою Web API.
Зберігати все в MS SQL базу даних за допомогою code-first підходу, використовуючи Entity Framework Core.

Таблицi:
- Category
- Product
- Order
- Customer
- і т.д.

Створити ендпоінти для CRUD (create, read, update, delete) операцій із кожною сутністю.
Використовувати HTTP методи (GET, POST, PUT, PATCH, DELETE).

Необхідно, що API відповідало підходам REST API.
- [Гайд по написанию требований к REST API](https://wearecommunity.io/communities/bakyiv/articles/1264)
- [6 Rules of REST APIs](https://appmaster.io/blog/the-six-rules-of-rest-apis)
- [Які є конвенції в REST API та для чого їх дотримуватись](https://dou.ua/forums/topic/34550/)

---

# Примітки по виконанню ДЗ

- Для перевірки запитів до контролерів додатку можна використовувати `*.http` - файли, що знаходиться в папці `Store.Api/ControllersHttpTests`. Вони по суті являються аналогом Postman, проте використав їх по причині того що запити будуть зберігатись в самому проекті і їх просто розмістити в GIT.  
Перед виконанням запитів в кожному з таких файлів необхідно обрати середовище `Development` (натисканням F6 або ж із випадаючого меню в правому верхньому куті екрану)
- Повноцінно, з HTTP методами GET, POST, PUT, DELETE, виконав контролер OrdersController, в інших використовував підхід з Upsert, для зменшення часу розробки (я і так дуже затягнув зі здачею)
- В запитах на оновлення не оновлюється поле `UpdateDate`, читав що є перехватчики події оновлення даних. З цим розберусь але згодом - теж не хотів витрачати на це час (зараз).

---

# Запитання

- ❓ Чи нормально робити так як я реалізував контроллер Orders (розміщувати в ньому роботу з OrderLines)?
- ❓ Якщо із сутністю пов'язані інші сутності (вона містить список інших сутностей чи просто якусь одну пов'язану сутність) як повинен працювати запит: повертати граф всіх пов'язаних сутностей чи лише повертати ту про яку йшлось в запиті та ідентифікатори пов'язаних? Наприклад в цьому завданні контроллер Orders повинен повертати тільки свою інформацію, чи й пов'язаних сутностей?
- ❓ Як коректно реалізовувати метод PATCH, наприклад як наведено в статті "[Які є конвенції в REST API та для чого їх дотримуватись](https://dou.ua/forums/topic/34550/)"? 
- ❓ Чи можна щоб під час міграції поточне середовище визначалось автоматично (у відповідності до обраного з випадаючого меню панелі керування Visual Studio), a не вказувати його в параметрах консольної команди міграції? Таким чином автоматично б брався необхідний файл `appsettings.<Назва_середовища_>.json` .